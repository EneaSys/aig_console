<div id="aig-partecipation-detail-page" class="page-layout blank">

    <div fxLayout="column" fxLayout.gt-sm="row" fxLayoutAlign="start" fxLayoutAlign.gt-sm="start start">

        <div class="widget p-16" fxFlex.gt-sm="70">

            <div class="fuse-card auto-width p-16">


                <div class="h1 m-8 ml-16 mb-0 secondary-text"><b>{{ 'MAIN.DETAILS' | translate }}</b></div>
                <div class="h4 m-8 ml-16 mb-0 secondary-text">Cig: {{partecipationDTO.procurementLot.cig}}</div>

                <br>

                <button mat-stroked-button color="primary" (click)="editPartecipation(partecipationDTO)">{{ 'MAIN.EDIT' | translate }}</button>
                <button mat-stroked-button color="primary" (click)="deletePartecipation(partecipationDTO.id)">{{ 'MAIN.DELETE' | translate }}</button>

            </div>

            <br>

            <div class="fuse-card auto-width p-14">

                <div class="h3 m-8 ml-16 mb-0 secondary-text"><b>Designated Company</b></div>
                <aig-designated-company-list-table [dataSource]="designatedCompanyDTOs" [displayColumns]="designatedCompanyDC"
                [error]="designatedCompanyError"></aig-designated-company-list-table>

                <button mat-fab class="accent" id="add-designated-company-button" (click)="newDesignatedCompany(partecipationDTO)"
                aria-label="add designated company">
                <mat-icon>add</mat-icon>
                </button>

            </div>

            <br>

            <div class="fuse-card auto-width p-14">

                <div class="h3 m-8 ml-16 mb-0 secondary-text"><b>Insurance Policy</b></div>
                <aig-insurance-policy-list-table [dataSource]="insurancePolicyDTOs" [displayColumns]="insurancePolicyDC"
                [error]="insurancePolicyError"></aig-insurance-policy-list-table>

                <button mat-fab class="accent" id="add-insurance-policy-button" (click)="newInsurancePolicy(partecipationDTO)"
                aria-label="add insurance policy">
                <mat-icon>add</mat-icon>
                </button>

            </div>

            <br>

            <div class="fuse-card auto-width p-14">

                <div class="h3 m-8 ml-16 mb-0 secondary-text"><b>Preparation</b></div>
                <aig-preparation-list-table [dataSource]="preparationDTOs" [displayColumns]="preparationDC"
                [error]="preparationError"></aig-preparation-list-table>

                <button mat-fab class="accent" id="add-preparation-button" (click)="newPreparation(partecipationDTO)"
                aria-label="add preparation">
                <mat-icon>add</mat-icon>
                </button>

            </div>

        </div>

    </div>

</div>